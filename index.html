<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Study Planner</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="appHeader">
    <div class="headerRow">
      <div class="appBrand">
        <div class="appLogo" aria-hidden="true">ğŸ“š</div>
        <div>
          <h1 class="appTitle">Study Planner</h1>
          <p class="appSubtitle">Tasks, deadlines, and progress â€” all in one place.</p>
        </div>
      </div>

      <div class="headerButtons">
        <button id="viewBtn" class="btn ghostBtn" type="button" aria-label="Toggle calendar view">
          ğŸ—“ <span class="hideOnSmall">Calendar</span>
        </button>
        <button id="themeBtn" class="btn ghostBtn" type="button" aria-label="Toggle theme">
          ğŸŒ™ <span class="hideOnSmall">Theme</span>
        </button>
        <button id="layoutBtn" class="btn ghostBtn" type="button" aria-label="Toggle layout">
          â¬› <span class="hideOnSmall">Layout</span>
        </button>
        <button id="addBtn" class="btn primaryBtn" type="button">â• Add task</button>
      </div>
    </div>
  </header>

  <main class="page">
    <!-- Stats -->
    <section class="card statsCard" aria-label="Stats">
      <div class="statsRow">
        <div>
          <div class="statsHeadline">
            <span id="doneCount">0</span>/<span id="totalCount">0</span> done
            <span class="muted">Â·</span>
            <span id="donePercent">0%</span>
          </div>
          <div class="muted statsText" id="statsText">No tasks yet. Add your first one.</div>
        </div>

        <div class="statsButtons">
          <button id="todayBtn" class="btn ghostBtn" type="button">ğŸ“… Today</button>
          <button id="clearTodayBtn" class="btn ghostBtn" type="button" disabled>âœ– Clear</button>
        </div>
      </div>

      <div class="progressBar" aria-label="Progress bar">
        <div id="progressFill" class="progressFill" style="width: 0%"></div>
      </div>
    </section>

    <!-- Filters -->
    <section class="filters" aria-label="Filters and search">
      <div class="filtersRow">
        <label class="field grow">
          <span class="label">Search</span>
          <input id="searchInput" class="input" type="search" placeholder="Search by title or tag..." autocomplete="off" />
        </label>

        <label class="field">
          <span class="label">Status</span>
          <select id="statusSelect" class="select">
            <option value="all">All</option>
            <option value="active">Active</option>
            <option value="done">Done</option>
          </select>
        </label>

        <label class="field">
          <span class="label">Tag</span>
          <select id="tagFilterSelect" class="select" aria-label="Filter by tag">
            <option value="">All</option>
          </select>
        </label>

        <label class="field">
          <span class="label">Sort</span>
          <select id="sortSelect" class="select">
            <option value="date">Due date</option>
            <option value="priority">Priority</option>
            <option value="created">Created</option>
          </select>
        </label>
      </div>
    </section>

    <!-- Flip stage (List â‡„ Calendar) -->
    <div class="flipStage" id="viewStage">
      <div class="flipInner" id="viewInner">

        <!-- Front face (List) -->
        <div class="flipFace flipFront" id="viewFront">

    <!-- List -->
    <section class="taskSection" aria-label="Task list" id="taskSection">
      <div class="sectionTop">
        <h2 class="sectionTitle">Your tasks</h2>
        <div id="resultsInfo" class="muted"></div>
      </div>

      <div id="taskList" class="taskList" data-layout="grid"></div>

      <div id="emptyState" class="emptyState" hidden>
        <div class="emptyIcon" aria-hidden="true">ğŸ—‚ï¸</div>
        <h3 class="emptyTitle">No tasks match your filters</h3>
        <p class="muted">Try clearing search/tag filters or switch status to â€œAllâ€.</p>
      </div>
    </section>

        </div>

        <!-- Back face (Calendar) -->
        <div class="flipFace flipBack" id="viewBack">

    <!-- Calendar -->
    <section id="calendarView" class="card calendarCard" aria-label="Calendar view">
      <div class="calendarTop">
        <h2 id="monthLabel" class="calendarMonth">Month</h2>
        <div class="calendarButtons" aria-label="Calendar controls">
          <button id="prevMonthBtn" class="btn ghostBtn" type="button" aria-label="Previous month">â€¹</button>
          <button id="nextMonthBtn" class="btn ghostBtn" type="button" aria-label="Next month">â€º</button>
          <button id="calendarAddBtn" class="btn primaryBtn" type="button" aria-label="Add task">ï¼‹</button>
        </div>
      </div>

      <div class="weekdays" aria-hidden="true">
        <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
      </div>

      <div id="calendarGrid" class="calendarGrid" role="grid" aria-label="Month grid"></div>

      <div id="undatedBox" class="undatedBox" hidden>
        <div class="muted undatedTitle">Undated tasks</div>
        <div id="undatedList" class="undatedList"></div>
      </div>
    </section>

        </div>

      </div>
    </div>
  </main>

  <!-- Modal -->
  <div id="modalBackdrop" class="modalBackdrop" hidden>
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modalTop">
        <h2 id="modalTitle" class="sectionTitle">Add task</h2>
        <button id="closeModalBtn" class="btn ghostBtn" type="button" aria-label="Close modal">âœ–</button>
      </div>

      <form id="taskForm" class="modalBody">
        <input type="hidden" id="taskId" />

        <label class="field">
          <span class="label">Title <span class="required">*</span></span>
          <input id="titleInput" class="input" type="text" required minlength="2" maxlength="80" placeholder="e.g. Learn CSS Grid" />
          <span class="muted hint">2â€“80 characters</span>
        </label>

        <div class="modalGrid">
          <label class="field">
            <span class="label">Due date</span>
            <input id="dateInput" class="input" type="date" />
          </label>

          <label class="field">
            <span class="label">Priority</span>
            <select id="prioritySelect" class="select">
              <option value="low">Low</option>
              <option value="mid" selected>Medium</option>
              <option value="high">High</option>
            </select>
          </label>

          <label class="field">
            <span class="label">Tag</span>
            <div class="tagCombo">
              <input id="tagInput" class="input" type="text" maxlength="20" placeholder="e.g. web, math" autocomplete="off" />
              <div id="tagSuggest" class="tagSuggest" hidden></div>
            </div>
          </label>
        </div>

        <div class="modalFooter">
          <button id="deleteBtn" class="btn dangerBtn" type="button" hidden>ğŸ—‘ Delete</button>
          <div class="spacer"></div>
          <button class="btn ghostBtn" type="button" id="cancelBtn">Cancel</button>
          <button class="btn primaryBtn" type="submit" id="saveBtn">Save</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Tag suggestions (auto-filled from saved tasks) -->
  <datalist id="tagOptions"></datalist>

  <!-- Toasts -->
  <div id="toastArea" class="toastArea" aria-live="polite" aria-atomic="true"></div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
